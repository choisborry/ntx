<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <title>NTX - shorten URL</title>
  </head>
  <body >
	  <div>
	    <h3>Enter Your URL.</h3>
		<div>
		    <textarea rows="4" cols="100" id="longURL" name="longURL" value="" placeholder="Enter your URL here">
		    </textarea>
			<button type="button" id="btnDeflate">Shrink URL</button>
		</div>
		    <input type="text" size="100" id="shortURL" name="shortURL" value="">
		    </textarea>
			<button type="button" id="btnInflate">Expand to original URL</button>
		<div>
		</div>
	  </div>
      <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
      <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
	  <script src='js/main.js'></script>
	  <script>
	    $(function(){
	  	  $("#longURL").val("");
	  	  $("#shortURL").val("");
	  	  
	      $("#btnDeflate").click(function(e) {
		      //console.log($("#longURL"));
	    	  var longURL = $("#longURL").val();
	    	  if (longURL == "") {
		    	  alert("Enter your URL first.");
		    	  return;
	    	  }
	    	  var encodedUrl = encodeURIComponent(longURL);
	    	  console.log("longURL="+encodedUrl);
	    	  deflate(encodedUrl, function(err, result) {
	    	  	  $("#longURL").val("");
		    	  $("#shortURL").val(result);
		    	  $("#shortURL").show();
		  	  });
	      });
	      $("#btnInflate").click(function(e) {
		      //console.log($("#longUrl"));
	    	  var shortURL = $("#shortURL").val();
	    	  if (shortURL == "") {
		    	  alert("Enter your short URL first.");
		    	  return;
	    	  }
	    	  var encodedUrl = encodeURIComponent(shortURL);
	    	  console.log("shortURL="+encodedUrl);
	    	  inflate(encodedUrl, function(err, result) {
	    	  	  $("#shortURL").val("");
		    	  $("#longURL").val(result);
		    	  //$("#shortURL").show();
		  	  });
	      });
	    });
	  </script>
  </body>
</html>

